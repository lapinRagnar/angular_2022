<div class="card">

    <div class="card-header text-white bg-info">
        s'enregistrer
    </div>

    <div class="card-body">

        <form (ngSubmit)="saveData() "  [formGroup]="registerForm" novalidate>

            <div class="row gx-3 gy-2 align-items-center">

                <div class="col-md-6 mb-3">
                    <label for="">nom</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        placeholder="nom" 
                        id="lastName"
                        
                        minlength="4" 
                        
                        formControlName="lastName"

                        [ngClass]=" {'is-invalid': registerForm.get('lastName')!.invalid && ( registerForm.get('lastName')!.dirty || registerForm.get('lastName')!.touched )  } "

                        required
                       
                    >

                    <!-- afficher les erreurs -->
                    <div class="invalid-feedback" >

                        <div *ngIf="registerForm.get('lastName')!.errors?.['required'] " >
                            Entrez notre nom
                        </div>

                        <div *ngIf="registerForm.get('lastName')!.errors?.['minlength'] " >
                            Minimum 4 caractères
                        </div>

                    </div>

                </div>


                <div class="col-md-6 mb-3">
                    <label for="">prenom</label>
                    <input 
                        type="text" 
                        class="form-control" 
                        placeholder="prenom" 

                        minlength="4"

                        formControlName="registerForm.get('firstName')"
                        
                        [ngClass]=" {'is-invalid': registerForm.get('firstName')!.invalid && ( registerForm.get('firstName')!.dirty || registerForm.get('firstName')!.touched )  } "

                        required

                    >

                        <!-- afficher les erreurs -->
                        <div class="invalid-feedback" >

                            <div *ngIf="registerForm.get('firstName')!.errors?.['required'] " >
                                Entrez notre nom
                            </div>
    
                            <div *ngIf="registerForm.get('firstName')!.errors?.['minlength'] " >
                                Minimum 4 caractères
                            </div>
    
                        </div>

                </div>

            </div>

            <div class="row gx-3 gy-2 align-items-center">

                <div class="col-md-6 mb-3">
                    <label for="">email</label>
                    <input 
                        type="email" 
                        class="form-control" 
                        placeholder="email" 
                        name="email"  

                        email

                        formControlName="email"

                        [ngClass]=" {'is-invalid': registerForm.get('email')!.invalid && (registerForm.get('email')!.touched || registerForm.get('email')!.dirty) } "

                        required
                    >

                    <!-- afficher les erreurs -->
                    <div class="invalid-feedback" >

                        <div *ngIf="registerForm.get('email')!.errors?.['required'] " >
                            Entrez notre email
                        </div>

                        <div *ngIf="registerForm.get('email')!.errors?.['email'] " >
                            email invalide!
                        </div>


                    </div>


                </div>

            </div>


            <div class="row mb-3 "> 

                <div class="col-md-12">
                    <div class="form-check mt-4 pt-3">
                        <label for="sendCatalogId" class="form-check-label">
                            <input 
                                type="checkbox" 
                                class="form-check-input"
                                formControlName="sendCatalog"
                            >
                            Je veux plus d'option
                        </label>
                    </div>
                </div>
            </div>

            <!-- <div *ngIf="user.sendCatalog">

                <div class="row mb-3">

                    <div class="col-md-12">
                        <label for="">Adresse 1</label>
                        <input type="text" class="form-control">
                    </div>

                    <div class="col-md-12">
                        <label for="">Adresse 1</label>
                        <input type="text" class="form-control">
                    </div>

                    <div class="row">
                        <div class="col-md-6 mb-3">
                            <label for="">Ville</label>
                            <input type="text" class="form-control">
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="">departement</label>
                            <select name="" id="" class="form-control"> 
                                <option value="">Selectionner un département</option>
                                <option value="A">A</option>
                                <option value="B">B</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                            </select>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="">code postale</label>  
                            <input type="number">
                        </div>
                    </div>
                </div>

            </div> -->

            <div class="text-right">
                <button 
                    class="btn btn-info" 
                    type="submit"
                    [disabled]="!registerForm.valid"
                >
                    sauvegarder
                </button>
            </div>


        </form>
    </div>

</div>

<hr>

<p> dirt : {{ registerForm.dirty }} </p>
<p> pristine : {{ registerForm.pristine }} </p>
<p> valid : {{ registerForm.valid }} </p>
<p> invalid : {{ registerForm.invalid }} </p>
<p>value: </p>
<pre> invalid : {{ registerForm.value | json }} </pre>